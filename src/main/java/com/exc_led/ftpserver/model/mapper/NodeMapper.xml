<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.exc_led.ftpserver.dao.NodeMapper">
  <resultMap id="BaseResultMap" type="com.exc_led.ftpserver.model.Node">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="province" jdbcType="VARCHAR" property="province" />
    <result column="city" jdbcType="VARCHAR" property="city" />
    <result column="district" jdbcType="VARCHAR" property="district" />
    <result column="addr" jdbcType="VARCHAR" property="addr" />
    <result column="ip" jdbcType="VARCHAR" property="ip" />
    <result column="ports" jdbcType="VARCHAR" property="ports" />
    <result column="description" jdbcType="VARCHAR" property="description" />
    <result column="install_addr" jdbcType="VARCHAR" property="installAddr" />
    <result column="num" jdbcType="VARCHAR" property="num" />
    <result column="X" jdbcType="DOUBLE" property="x" />
    <result column="Y" jdbcType="DOUBLE" property="y" />
    <result column="height" jdbcType="DOUBLE" property="height" />
    <result column="width" jdbcType="DOUBLE" property="width" />
  </resultMap>
  <sql id="Base_Column_List">
    id, province, city, district, addr, ip, ports, description, install_addr, num, X, 
    Y, height, width
  </sql>
 
  <select id="findNumByIp" parameterType="java.lang.String" resultType="java.lang.String">
    select 
    num
    from node
    where ip = #{ip,jdbcType=VARCHAR}
  </select>

</mapper>